{"mappings":"AAGgBA,SAASC,cAAc,YAEvC,IAAIC,EAAkB,GAcbC,MAAM,yGACVC,MAAKC,IACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAEZ,OAAOF,EAAKG,MAAM,IAEnBC,OAAMC,GAAOC,QAAQC,IAAIF,EAAIG,kBAGpBT,MAAKU,GACjBA,EAAKC,OAAOC,KAAIC,GAASf,EAAgBgB,KAAKD,OAvBhD,IAAqBE,EAmDOC,GAnDPD,EA2BE,sBA1BdhB,MAAM,gCAAcgB,8CACxBf,MAAKC,IACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAEZ,OAAOF,EAAKG,MAAM,IAEnBC,OAAMC,GAAOC,QAAQC,IAAIF,EAAIG,mBAqBNT,MAAKU,IAC/BH,QAAQC,IAAIE,EAAKO,SACJP,EAAKO,OAAQ,KAoBAD,EAYT,QAXVjB,MAAM,wCACIiB,6DACdhB,MAAKC,IACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAEZ,OAAOF,EAAKG,MAAM,IAEnBC,OAAMC,GAAOC,QAAQC,IAAIF,EAAIG,mBAGNT,MAAKU,IAC/BH,QAAQC,IAAIE,EAAK","sources":["src/js/api.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '917b4db2abe704f469567a6fce387097';\n\nconst gallery = document.querySelector('.gallery');\n\nlet arrGenresMovies = [];\n\nfunction fetchMovies(params) {\n  return fetch(`${BASE_URL}${params}?api_key=${API_KEY}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error();\n      }\n      return resp.json();\n    })\n    .catch(err => console.log(err.status_message));\n}\n\nfunction fetchGenres() {\n  return fetch(`${BASE_URL}genre/movie/list?api_key=${API_KEY}&language=en-US`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error();\n      }\n      return resp.json();\n    })\n    .catch(err => console.log(err.status_message));\n}\n\nfetchGenres().then(data =>\n  data.genres.map(genre => arrGenresMovies.push(genre))\n);\n// console.log(arrGenresMovies);\n\nconst trendingParams = 'trending/movie/week';\n\nfetchMovies(trendingParams).then(data => {\n  console.log(data.results);\n  createMarkup(data.results);\n});\n\nfunction createMarkup(arr) {\n  //   for (const genre of arrGenresMovies) {\n  //     if (genre.id === ) {\n  //     }\n  //   }\n  //   const markup = arr\n  //     .map(\n  //       item => `<li>\n  //       <img src=\"${item.poster_path}\" alt=\"\" />\n  //       <h2>${item.title}</h2>\n  //       <p>${item.genre_ids} ${item.release_date}</p>\n  //     </li>`\n  //     )\n  //     .join('');\n  //   gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction getDetailsForMovie(id) {\n  return fetch(`\n${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error();\n      }\n      return resp.json();\n    })\n    .catch(err => console.log(err.status_message));\n}\n\ngetDetailsForMovie('76600').then(data => {\n  console.log(data);\n  //   createMarkupForMovieDetails(data);\n});\n\nfunction createMarkupForMovieDetails(movie) {\n  const markupForMovie = `<div>\n  <button type=\"button\">Закрити</button>\n  <img src=\"https://themoviedb.org/3${movie.poster_path}\" alt=\"\" />\n  <h1>${movie.title}</h1>\n  <p>Vote / Votes ${movie.vote_average} / ${movie.vote_count}</p>\n  <p>Popularity ${movie.popularity}</p>\n  <p>Original Title ${movie.original_title}</p>\n  <p>Genre ${movie.genres.map(genre => genre.name)}</p>\n  <p>About ${movie.overview}</p>\n  <button type=\"button\">add to Watched</button>\n  <button type=\"button\">add to queue</button>\n</div>`;\n\n  gallery.insertAdjacentHTML('beforeend', markupForMovie);\n}\n"],"names":["document","querySelector","$56ca17bb174b0ce3$var$arrGenresMovies","fetch","then","resp","ok","Error","json","catch","err","console","log","status_message","data","genres","map","genre","push","params","id","results"],"version":3,"file":"index.67b6d7f6.js.map"}